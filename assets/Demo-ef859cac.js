import{f as c,g as x,h as g,i as I,j as l,r as d,o as f,c as _,n as V,k as A,l as y,b as u,a as r,w as m,m as G,p as M,v as P,u as p,T as S,_ as T}from"./app-07f5eddc.js";import H from"./LoadPanel-14357414.js";function b(t){return t.startsWith("/")?t.slice(1):t}function N(){return"/playground/"}function $(t,n){return`${t??N()}${b(n??"")}`}function z(t){return`https://github.com/nikolaynau/vuemap.org/tree/master/playground/pages/${b(t??"")}.vue`}function O(){const t=c(!1),n=new MutationObserver(s);n.observe(document.documentElement,{attributes:!0});function s(o){for(const a of o)a.type==="attributes"&&e()}function e(){t.value=document.documentElement.classList.contains("dark")}return x(()=>{n.disconnect()}),e(),t}const W=["http://localhost:3000","http://localhost:8080","https://github.com","https://nikolaynau.github.io","https://vuemap.org"];function R(t){const n=c(!1);function s(o){var a,i;(i=(a=t.value)==null?void 0:a.contentWindow)==null||i.postMessage(o,"*")}function e(o){W.includes(o.origin)&&o.data==="playground:ready"&&(n.value=!0)}return window.addEventListener("message",e,!1),x(()=>{window.removeEventListener("message",e,!1)}),{ready:n,send:s}}function j(t){const n=O(),{ready:s,send:e}=R(t);g(s,()=>{o()}),g(n,()=>{o()});function o(){const a=getComputedStyle(document.documentElement);e({cBg:a.getPropertyValue("--c-bg"),cText:a.getPropertyValue("--c-text")})}}function F(){return{expandEnter:e=>{e.style.height=e.scrollHeight+"px"},expandAfterEnter:e=>{e.style.height="auto"},expandBeforeLeave:e=>{e.style.height=e.scrollHeight+"px"}}}const q={class:"demo"},J={class:"demo-frame-container"},K=["src"],Q={class:"demo-actions"},X={class:"demo-source"},Y=I({__name:"Demo",props:{url:{},baseUrl:{},width:{},height:{default:"25rem"}},setup(t){const n=t,s=c(!0),e=c(!1),o=c(null);j(o);const{expandEnter:a,expandAfterEnter:i,expandBeforeLeave:k}=F(),E=l(()=>({width:n.width,height:n.height})),w=l(()=>$(n.baseUrl,n.url)),L=l(()=>z(n.url));function B(){s.value=!1}function C(){e.value=!e.value}return(h,Z)=>{const D=d("GithubIcon"),v=d("Icon"),U=d("ChevronsIcon");return f(),_("div",q,[h.url?(f(),_("div",{key:0,class:"demo-display",style:V(E.value)},[s.value?(f(),A(H,{key:0})):y("v-if",!0),u("div",J,[u("iframe",{ref_key:"frame",ref:o,class:"demo-frame",loading:"lazy",src:w.value,onLoad:B},null,40,K)])],4)):y("v-if",!0),u("div",Q,[r(v,{tag:"a",href:L.value,target:"_blank",class:"demo-action",title:"View on GitHub"},{default:m(()=>[r(D)]),_:1},8,["href"]),r(v,{class:"demo-action",title:"View source",onClick:C},{default:m(()=>[r(U)]),_:1})]),r(S,{name:"demo-source-expand",onEnter:p(a),onAfterEnter:p(i),onBeforeLeave:p(k),persisted:""},{default:m(()=>[G(u("div",X,[M(h.$slots,"default")],512),[[P,e.value]])]),_:3},8,["onEnter","onAfterEnter","onBeforeLeave"])])}}});const ne=T(Y,[["__file","Demo.vue"]]);export{ne as default};
